(this["webpackJsonpappointment-picker"]=this["webpackJsonpappointment-picker"]||[]).push([[0],{16:function(e,a,t){e.exports=t(22)},21:function(e,a,t){},22:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(13),l=t.n(c),i=(t(21),t(11)),o=t(6),s=t(23),u=t(27),d=t(29),m=t(24),f=t(25),v=t(26),h=t(28),O=function(e){var a=e.value,t=e.isChecked,n=e.handleClickCheckbox;return r.a.createElement("div",{className:"checkbox"},r.a.createElement("input",{onClick:n,onChange:function(){return null},type:"checkbox",value:a,checked:t})," ",a)},g=function(e){var a=e.data,t=e.handleDateOff,c=new Date,l=Object(n.useState)(!1),i=Object(o.a)(l,2),s=i[0],d=i[1],m=Object(n.useState)(""),f=Object(o.a)(m,2),v=f[0],O=f[1],g=Object(n.useState)([]),p=Object(o.a)(g,2),y=p[0],E=p[1];return r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{value:v,onChange:function(e){return function(e){if(O(e),e.length>1&&e.trim().length){var t=new RegExp("^".concat(e),"i");d(!0);var n=a.filter((function(e){return t.test(e.day)}));E(n)}else d(!1)}(e.target.value)},type:"text",placeholder:"Exemple: ".concat(Object(u.a)(c,"dd LLLL Y",{locale:h.a}))}),s&&r.a.createElement("div",{className:"display"},r.a.createElement("ul",null,y.map((function(e,a){return r.a.createElement("li",{onClick:function(){return a=e.day,t(a),d(!1),void O("");var a},key:a},e.day)})))))},p=function(e){var a=e.data,t=e.remove;return r.a.createElement("ul",null,a.map((function(e,a){return r.a.createElement("li",{key:a,className:"item"},r.a.createElement("span",null,e),r.a.createElement("span",{onClick:function(){return t(e)},className:"cancel"},"\u274c"))})))},y=function(e){var a=e.data,t=e.cancellation;return r.a.createElement(r.a.Fragment,null,a.filter((function(e){return e.hours.length})).map((function(e,a){return r.a.createElement("div",{key:a,className:"booking"},r.a.createElement("div",null,e.day),r.a.createElement("div",null,e.hours.map((function(a,n){return r.a.createElement("div",{className:"hour_selected",key:n},r.a.createElement("span",null,a)," ",r.a.createElement("span",{className:"cancel",onClick:function(){return t({id:e.id,hour:a})}},"\u274c"))}))))})))},E=function(){var e=new Date,a=Object(s.a)(e,90),t=Object(u.a)(e,"yyyy"),c=Object(n.useState)(JSON.parse(localStorage.getItem("dateOff"))||[]),l=Object(o.a)(c,2),E=l[0],b=l[1],k=Object(n.useState)(JSON.parse(localStorage.getItem("dayOff"))||[]),S=Object(o.a)(k,2),N=S[0],j=S[1],C=Object(n.useState)(JSON.parse(localStorage.getItem("data"))||[]),I=Object(o.a)(C,2),J=I[0],w=I[1],x=Object(n.useState)(!1),D=Object(o.a)(x,2),L=D[0],_=D[1],T=Object(n.useState)(""),A=Object(o.a)(T,2),F=A[0],V=A[1],W=Object(n.useState)(JSON.parse(localStorage.getItem("weekday"))||[{id:1,value:"lundi",isChecked:!1},{id:2,value:"mardi",isChecked:!1},{id:3,value:"mercredi",isChecked:!1},{id:4,value:"jeudi",isChecked:!1},{id:5,value:"vendredi",isChecked:!1},{id:6,value:"samedi",isChecked:!1},{id:7,value:"dimanche",isChecked:!1}]),Y=Object(o.a)(W,2),B=Y[0],R=Y[1];function q(e){switch(e){case"data":return w(JSON.parse(localStorage.getItem(e)));case"dateOff":return b(JSON.parse(localStorage.getItem(e)));case"dayOff":return j(JSON.parse(localStorage.getItem(e)));case"weekday":return R(JSON.parse(localStorage.getItem(e)))}}Object(n.useEffect)((function(){localStorage.getItem("weekday")||localStorage.setItem("weekday",JSON.stringify(B))}),[]);var z=function(){for(var e=[],a=9;a<=18;a++)e.push("".concat(a,":00"),"".concat(a,":").concat(30));return e},G=function(){for(var n=[],r=0;r<=Object(d.a)(a,e);r++){var c,l,i=Object(m.a)(Object(f.a)(e,r));c=0===r?Number(Object(u.a)(e,"d"))-1:0,l=r===Object(d.a)(a,e)?Number(Object(u.a)(a,"d")):Number(Object(u.a)(Object(v.a)(i),"d"));for(var o=c;o<l;o++){var O=Object(u.a)(Object(s.a)(i,o),"DDD"),g=Object(u.a)(Object(s.a)(i,o),"dd LLLL Y",{locale:h.a}),p=Object(u.a)(Object(s.a)(i,o),"EEEE",{locale:h.a});H(p,g)||n.push({id:O+t,day:g,dayOfWeek:p,hours:z()})}}for(var y=0;y<n.length;y++)for(var E=n[y],b=0;b<J.length;b++){var k=J[b];k.id===E.id&&K(E,k)}return n.slice(0,7)},H=function(e,a){return N.indexOf(e)>-1||E.indexOf(a)>-1},K=function(e,a){for(var t=0;t<a.hours.length;t++)e.hours.splice(e.hours.indexOf(a.hours[t]),1)},M=function(){for(var e=0;e<J.length;e++)0===J[e].hours.length&&J.splice(e,1);localStorage.setItem("data",JSON.stringify(J)),q("data")},P=function(e){for(var a=B,t=0;t<a.length;t++)a[t].value===e.target.value&&(a[t].isChecked=e.target.checked);localStorage.setItem("weekday",JSON.stringify(a)),q("weekday"),function(e){for(var a=[],t=0;t<e.length;t++)e[t].isChecked&&a.push(e[t].value);localStorage.setItem("dayOff",JSON.stringify(a)),q("dayOff")}(a)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"days ".concat(L?"active":"")},G().filter((function(e){return e.hours.length})).map((function(e){return r.a.createElement("div",{key:e.id,className:"day"},r.a.createElement("div",{className:"div_day"},r.a.createElement("div",{className:"dates"},r.a.createElement("div",{className:"day_of_week"},e.dayOfWeek)," ",r.a.createElement("div",{className:"date"},e.day)),r.a.createElement("div",{onClick:function(){return a=e.id,void V(a!==F?a:"");var a},className:"icon-down"},F!==e.id?r.a.createElement("i",{className:"fas fa-chevron-down"}):r.a.createElement("i",{className:"fas fa-chevron-up"}))),r.a.createElement("div",{className:"hours ".concat(F!==e.id?"none":"")},e.hours.map((function(a){return r.a.createElement("div",{onClick:function(){return function(e){if(J.length)for(var a=0;a<J.length;a++){var t=J.find((function(a){return a.id===e.id})),n=J[a];n.id===e.id?(n.hours.push(e.hour),localStorage.setItem("data",JSON.stringify(J))):t||localStorage.setItem("data",JSON.stringify([].concat(Object(i.a)(J),[{id:e.id,hours:[e.hour],day:e.day}])))}else localStorage.setItem("data",JSON.stringify([{id:e.id,hours:[e.hour],day:e.day}]));q("data")}({hour:a,id:e.id,day:e.day})},className:"hour none",key:a},a)}))))}))),r.a.createElement("div",{className:"btn_show",onClick:function(){return _(!L)}},L?"Voir moins":"Voir plus d'horaires"),r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement("div",{className:"title"},"Dates et heures r\xe9serv\xe9es"),r.a.createElement("div",{className:"bookings"},J.length?r.a.createElement(y,{data:J,cancellation:function(e){for(var a=0;a<J.length;a++)J[a].id===e.id&&J[a].hours.splice(J[a].hours.indexOf(e.hour),1);localStorage.setItem("data",JSON.stringify(J)),q("data"),M()}}):"Aucune r\xe9servation")),r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement("div",{className:"title"},"S\xe9lectionner un ou plusieur jour de la semaine en cong\xe9"),B.map((function(e){var a=e.id,t=e.value,n=e.isChecked;return r.a.createElement(O,{handleClickCheckbox:P,key:a,value:t,isChecked:n})}))),r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement("div",{className:"title"},"Ajouter une ou plusieurs date de cong\xe9"),r.a.createElement(g,{data:G(),handleDateOff:function(e){localStorage.setItem("dateOff",JSON.stringify([].concat(Object(i.a)(E),[e]))),q("dateOff")}}),r.a.createElement(p,{data:E,remove:function(e){for(var a=0;a<E.length;a++)E[a]===e&&E.splice(a,1);localStorage.setItem("dateOff",JSON.stringify(E)),q("dateOff")}})))};var b=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(E,null))};l.a.render(r.a.createElement(b,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.4d4c71e8.chunk.js.map